<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <!-- This is the description component. Editable -->

    <h:outputScript>
        function scrollToElement(id, speed) {
            $('html, body').animate({
                scrollTop: $('#' + id).offset().top-70
            }, speed);
        }
    </h:outputScript>
    <div class="cv-bloc-element">
        <!-- (descripton) -->
        <div class="panel panel-blue">
            <div class="panel-heading">
                <h1 class="panel-title">
                    <span class="glyphicon glyphicon-user" style="margin-right:8px;top:2px;"></span>
                    Description</h1>
            </div>
            <div class="panel-body">

                <div id="description-container">
                    <!-- (photo) -->
                    <h:panelGroup class="col-sm-4 col-xs-5" id="photo-editable" layout="block">
                        <h:form enctype="multipart/form-data" prependId="false">
                            <!--<h:inputFile value="#{employeeDescriptionBean.newImage}"/>
                            <h:commandButton type="submit" styleClass="btn btn-default" value="OK"
                                             action="#{employeeDescriptionBean.upload()}">
                                <f:ajax execute="@form" render="photo-editable"/>
                            </h:commandButton>-->
                            <h:graphicImage name="img/photo1.jpg" id="profil" alt="photo de profil" class="img-thumbnail"/>
                        </h:form>
                    </h:panelGroup>

                    <!-- (Text informations) -->
                    <div class="col-sm-8 col-xs-12">

                        <!-- (nom prenom) -->
                        <ui:include src="cv_desc_name_editor.xhtml"/>

                        <!-- (titre professionnel) -->
                        <ui:include src="cv_desc_title_pro_editor.xhtml"/>

                        <!-- (pays - secteur) -->
                        <ui:include src="cv_desc_country_sector_editor.xhtml"/>

                        <!-- (formation) -->
                        <h:panelGroup class="editable" id="description_current_formation">
                            <div>
                                <a class="hyperspan" onclick="scrollToElement('formation-section', 500)"
                                   id="formation_toggler"></a>
                                <p>#{employeeDescriptionBean.formation == null ?
                                        "Ajouter une formation" : employeeDescriptionBean.formation} <span
                                        class="glyphicon glyphicon-pencil"/></p>
                            </div>
                        </h:panelGroup>

                        <!-- (Relation button) -->
                        <div class="col-xs-6 row-strip">
                            <!-- Not in editable mode -->
                        </div>
                        <!-- (nb relations) -->
                        <div class="col-xs-offset-4 col-xs-2 row-strip">
                            <p class="text-right">
                                <b>#{employeeDescriptionBean.nbRelations}</b> relations</p>
                        </div>
                    </div>
                    <div class="row"></div>
                    <!-- (coordonées URL) -->
                    <div class="col-md-12">
                        <hr class="dashed"/>
                        <div class="collapse out" style="" id="accordion2">
                            <div class="col-xs-6 row-strip">
                                <span class="secondary-text">/#{employeeDescriptionBean.url}</span>
                            </div>
                            <div class="col-xs-6 row-strip text-right">
                                <a data-toggle="collapse" data-parent="#accordion2" href="#collapseFour"
                                   class="collapsed"> Coordonnées
                                </a>
                            </div>

                            <div id="collapseFour" class="panel-collapse collapse" style="height: 0px;">
                                <p><span class="glyphicon glyphicon-envelope"
                                         style="top:3px; margin-right:7px"></span> #{employeeDescriptionBean.email}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</ui:composition>

